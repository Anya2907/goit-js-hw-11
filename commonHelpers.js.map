{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\nexport function renderImages(arr) {\n     return arr.hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n    `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n              width=\"360\"\n            />\n          </a>\n          <div class=\"thumb-block\">\n            <div class=\"block\">\n              <h2 class=\"tittle\">Likes</h2>\n              <p class=\"amount\">${likes}</p>\n            </div>\n            <div class=\"block\">\n              <h2 class=\"tittle\">Views</h2>\n              <p class=\"amount\">${views}</p>\n            </div>\n            <div class=\"block\">\n              <h2 class=\"tittle\">Comments</h2>\n              <p class=\"amount\">${comments}</p>\n            </div>\n            <div class=\"block\">\n              <h2 class=\"tittle\">Downloads</h2>\n              <p class=\"amount\">${downloads}</p>\n            </div>\n          </div>\n        </li>`)\n    .join('');\n}","export function getImage(image) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api';\n    const params = new URLSearchParams({\n        key: '44542609-ff8a36f5b6e289e3f6d4e0ccb',\n        q: image,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    })\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n\n    return fetch(url).then(res => res.json());\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderImages } from './js/render-functions';\nimport { getImage } from './js/pixabay-api';\n\nconst formEl = document.querySelector('.js-search');\nconst list = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const value = e.target.elements.search.value; \n  loader.style.display = '';\n\n  getImage(value).then(image => {\n    loader.style.display = 'none';\n        if (!value.trim()) {\n          list.innerHTML = '';\n          iziToast.error({\n            title: 'Error',\n            message: 'Please enter a value in the search field!',\n            position: 'topRight',\n        });\n            return;\n        }\n        if (image.hits.length === 0) {\n            iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n        });\n        }\n        \n      list.innerHTML = renderImages(image);\n\n        const refreshPage = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n        });\n      refreshPage.refresh();\n    }).catch((err) => {\n      loader.style.display = 'none';\n      console.log(err);\n    })\n  \n    formEl.reset();    \n})\n\n\n\n"],"names":["renderImages","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","getImage","image","BASE_URL","END_POINT","params","url","res","formEl","list","loader","e","value","iziToast","SimpleLightbox","err"],"mappings":"6vBAEO,SAASA,EAAaC,EAAK,CAC7B,OAAOA,EAAI,KAAK,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC9F;AAAA,0CACsCL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAOSC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kCAIRC,CAAS;AAAA;AAAA;AAAA,cAG7B,EACT,KAAK,EAAE,CACZ,CCjCO,SAASC,EAASC,EAAO,CAC5B,MAAMC,EAAW,sBACXC,EAAY,OACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCLA,MAAMC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvBF,EAAO,iBAAiB,SAAUG,GAAK,CACrCA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,OAAO,SAAS,OAAO,MACvCD,EAAO,MAAM,QAAU,GAEvBT,EAASW,CAAK,EAAE,KAAKV,GAAS,CAExB,GADJQ,EAAO,MAAM,QAAU,OACf,CAACE,EAAM,OAAQ,CACjBH,EAAK,UAAY,GACjBI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4CACT,SAAU,UACtB,CAAS,EACG,MACH,CACGX,EAAM,KAAK,SAAW,GACtBW,EAAS,MAAM,CACf,MAAO,QACP,QAAS,2EACT,SAAU,UACtB,CAAS,EAGHJ,EAAK,UAAYjB,EAAaU,CAAK,EAEb,IAAIY,EAAe,aAAc,CACrD,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAS,EACS,QAAO,CACzB,CAAK,EAAE,MAAOC,GAAQ,CAChBL,EAAO,MAAM,QAAU,OACvB,QAAQ,IAAIK,CAAG,CACrB,CAAK,EAEDP,EAAO,MAAK,CAChB,CAAC"}